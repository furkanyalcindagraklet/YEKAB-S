{% extends 'base_layout.html' %}
{% load static %}
{% block content %}
    <script src="{% static 'vis/dist/cytoscape.min.js' %}"></script>
    <script src="{% static 'vis/dist/cytoscape-cxtmenu.js' %}"></script>
    <script src="{% static 'vis/src/assign.js' %}"></script>
    <script src="{% static 'vis/src/cxtmenu.js' %}"></script>
    <script src="{% static 'vis/src/defaults.js' %}"></script>
    <script src="{% static 'vis/src/dom-util.js' %}"></script>
    <script src="{% static 'vis/src/index.js' %}"></script>

    <style>
        body {
            font-family: helvetica;
            font-size: 14px;
            overflow: hidden;
        }

        #cy {
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
            z-index: 999;
        }

        h1 {
            opacity: 0.5;
            font-size: 1em;
        }

        /* you can set the disabled style how you like on the text/icon */
        .cxtmenu-disabled {
            opacity: 0.333;
        }
    </style>

    <script>


        window.addEventListener('DOMContentLoaded', function () {


            var cy = window.cy = cytoscape({
                container: document.getElementById('cy'),

                ready: function () {
                },

                style: [
                    {
                        selector: 'node',
                        css: {
                            'content': 'data(name)'
                        }
                    },

                    {
                        selector: 'edge',
                        css: {
                            'curve-style': 'bezier',
                            'target-arrow-shape': 'triangle'
                        }
                    }
                ],

                elements: {
                    nodes: [
                        {data: {id: 'j', name: 'Jerry'}},
                        {data: {id: 'e', name: 'Elaine'}},
                        {data: {id: 'k', name: 'Kramer'}},
                        {data: {id: 'g', name: 'George'}}
                    ],
                    edges: [
                        {data: {source: 'j', target: 'e'}},
                        {data: {source: 'j', target: 'k'}},
                        {data: {source: 'j', target: 'g'}},
                        {data: {source: 'e', target: 'j'}},
                        {data: {source: 'e', target: 'k'}},
                        {data: {source: 'k', target: 'j'}},
                        {data: {source: 'k', target: 'e'}},
                        {data: {source: 'k', target: 'g'}},
                        {data: {source: 'g', target: 'j'}}
                    ]
                }
            });
            console.log(cy)
            cy.cxtmenu({
                selector: 'node, edge',

                commands: [
                    {
                        content: '<span class="fa fa-flash fa-2x"></span>',
                        select: function (ele) {
                            console.log(ele.id());
                        }
                    },

                    {
                        content: '<span class="fa fa-star fa-2x"></span>',
                        select: function (ele) {
                            console.log(ele.data('name'));
                        },
                        enabled: false
                    },

                    {
                        content: 'Text',
                        select: function (ele) {
                            console.log(ele.position());
                        }
                    }
                ]
            });

            cy.cxtmenu({
                selector: 'core',

                commands: [
                    {
                        content: 'bg1',
                        select: function () {
                            console.log('bg1');
                        }
                    },

                    {
                        content: 'bg2',
                        select: function () {
                            console.log('bg2');
                        }
                    }
                ]
            });

        });
    </script>
    <section class="content">
        <section class="content-header">
            <div class="row">
                <div class="col-sm-6">
                    <h3> cytoscape-cxtmenu demo </h3>
                </div>

            </div>
        </section>
        <div class="row">
            <div id="cy"></div>
        </div>
    </section>

{% endblock %}